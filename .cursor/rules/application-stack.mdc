---
description: Complete application stack overview with dependency versions and best practices
globs: package.json
alwaysApply: true
---

# Application Stack & Dependencies

This document outlines the complete technology stack, dependency versions, and best practices for the Payload CMS + Next.js playground project.

## Core Framework Stack

### **Frontend Framework**
- **Next.js**: `^15.4` - Latest stable version with App Router
- **React**: `19.0.0` - Latest major version with new features
- **React DOM**: `19.0.0` - Matching React version

**Best Practices:**
- ‚úÖ Using Next.js 15.4 (latest stable)
- ‚úÖ React 19 with new features (Actions, use(), etc.)
- ‚ö†Ô∏è **Note**: React 19 is cutting-edge - monitor for breaking changes
- üîß **Recommendation**: Test thoroughly before production deployment

### **Content Management System**
- **Payload CMS**: `^3.50.0` - Latest stable version
- **Payload Cloud**: `^3.50.0` - Cloud hosting integration
- **Payload Plugins**:
  - `@payloadcms/db-postgres`: `^3.50.0` - PostgreSQL database
  - `@payloadcms/email-resend`: `^3.50.0` - Email service
  - `@payloadcms/live-preview-react`: `^3.50.0` - Live preview
  - `@payloadcms/plugin-seo`: `^3.50.0` - SEO optimization
  - `@payloadcms/richtext-lexical`: `^3.50.0` - Rich text editor
  - `@payloadcms/storage-s3`: `^3.50.0` - S3 file storage
  - `@payloadcms/translations`: `^3.50.0` - i18n support
  - `@payloadcms/ui`: `^3.50.0` - Admin UI components

**Best Practices:**
- ‚úÖ Using latest Payload CMS 3.50.0
- ‚úÖ Comprehensive plugin ecosystem
- üîß **Recommendation**: Keep plugins in sync with core version

## UI & Styling Stack

### **CSS Framework**
- **Tailwind CSS**: `^4` - Latest major version (v4)
- **PostCSS**: `@tailwindcss/postcss ^4` - PostCSS integration
- **Typography**: `@tailwindcss/typography ^0.5.16` - Prose styling

**Best Practices:**
- ‚ö†Ô∏è **Note**: Tailwind CSS v4 is in beta/alpha - expect breaking changes
- üîß **Recommendation**: Monitor v4 stability before production
- ‚úÖ Using modern PostCSS integration

### **UI Component Libraries**
- **Radix UI**: Multiple components (v1.1.x - v2.1.x)
  - Accordion, Avatar, Dialog, Dropdown, etc.
- **Shadcn/ui**: Built on Radix UI primitives
- **Lucide React**: `^0.511.0` - Icon library
- **Class Variance Authority**: `^0.7.1` - Component variants

**Best Practices:**
- ‚úÖ Using latest Radix UI components
- ‚úÖ Modern component architecture with CVA
- üîß **Recommendation**: Keep Radix UI components updated for accessibility

### **Styling Utilities**
- **clsx**: `^2.1.1` - Conditional class names
- **tailwind-merge**: `^3.3.0` - Tailwind class merging
- **tw-animate-css**: `^1.3.0` - Animation utilities

## State Management & Forms

### **State Management**
- **Zustand**: `^5.0.3` - Lightweight state management
- **React Hook Form**: `^7.54.2` - Form handling
- **Hookform Resolvers**: `^4.1.2` - Form validation integration

### **Validation**
- **Zod**: `^3.24.1` - Schema validation
- **zod-form-data**: `^2.0.5` - Form data validation

**Best Practices:**
- ‚úÖ Using latest Zustand (v5) with modern patterns
- ‚úÖ Latest React Hook Form with improved performance
- ‚úÖ Zod v3 with enhanced TypeScript integration

## Email & Communication

### **Email Services**
- **Resend**: `^4.1.2` - Email delivery service
- **React Email**: `^0.0.34` - Email template components
- **React Email Render**: `1.1.2` - Email rendering

**Best Practices:**
- ‚úÖ Using latest Resend API
- ‚úÖ Modern React Email components
- üîß **Recommendation**: Test email templates across clients

## Development & Build Tools

### **Package Manager**
- **pnpm**: Used for dependency management
- **cross-env**: `^7.0.3` - Cross-platform environment variables

### **TypeScript**
- **TypeScript**: `^5` - Latest stable version
- **@types/node**: `^20` - Node.js type definitions
- **@types/react**: `^19` - React 19 type definitions
- **@types/react-dom**: `^19` - React DOM type definitions

### **Linting & Formatting**
- **ESLint**: `^9.19.0` - Latest ESLint with flat config
- **ESLint Config Next**: `^15.4` - Next.js specific rules
- **Prettier**: `^3.5.3` - Code formatting
- **Prettier Plugin Tailwind**: `^0.6.11` - Tailwind class sorting

**Best Practices:**
- ‚úÖ Using ESLint 9 with modern flat config
- ‚úÖ Latest Prettier with Tailwind integration
- üîß **Recommendation**: Regular linting rule updates

## Additional Libraries

### **Utilities**
- **cmdk**: `^1.0.4` - Command palette component
- **embla-carousel-react**: `^8.5.2` - Carousel component
- **sonner**: `^1.7.4` - Toast notifications
- **vaul**: `^1.1.2` - Drawer component
- **sharp**: `0.34.3` - Image optimization

### **Internationalization**
- **next-intl**: `^3.26.3` - Internationalization for Next.js

### **Theming**
- **next-themes**: `^0.4.6` - Theme switching

### **Data & API**
- **GraphQL**: `^16.8.1` - GraphQL client/server

## Node.js & Runtime

### **Runtime Requirements**
- **Node.js**: `^18.20.2 || >=20.9.0` - LTS and current versions
- **Module Type**: `"type": "module"` - ES modules

**Best Practices:**
- ‚úÖ Supporting Node.js 18 LTS and 20+
- ‚úÖ Using ES modules (modern standard)
- üîß **Recommendation**: Consider upgrading to Node.js 20+ for better performance

## Dependency Management Best Practices

### **Version Management**
1. **Semantic Versioning**: Using `^` for minor/patch updates
2. **Lock Files**: `pnpm-lock.yaml` committed to version control
3. **Regular Updates**: Monitor for security updates
4. **Dependency Auditing**: Regular security audits

### **Security Considerations**
- **Regular Audits**: Run `pnpm audit` regularly
- **Dependency Updates**: Keep dependencies current
- **Vulnerability Monitoring**: Monitor for known vulnerabilities

### **Performance Optimizations**
- **Bundle Analysis**: `@next/bundle-analyzer` for optimization
- **Image Optimization**: Sharp for server-side image processing
- **Tree Shaking**: ES modules for better tree shaking

### **Development Workflow**
- **Turbopack**: Using `--turbopack` for faster development builds
- **Type Checking**: Separate `check-types` script
- **Linting**: Integrated ESLint with Next.js
- **Formatting**: Prettier with Tailwind class sorting

## Version Compatibility Matrix

| Technology | Version | Status | Notes |
|------------|---------|--------|-------|
| Next.js | 15.4 | ‚úÖ Stable | Latest stable |
| React | 19.0.0 | ‚ö†Ô∏è Cutting-edge | Monitor for stability |
| Payload CMS | 3.50.0 | ‚úÖ Stable | Latest stable |
| Tailwind CSS | 4.x | ‚ö†Ô∏è Beta | Expect breaking changes |
| TypeScript | 5.x | ‚úÖ Stable | Latest stable |
| Node.js | 18.20.2+ | ‚úÖ LTS | Recommended 20+ |

## Recommendations

### **Immediate Actions**
1. **Monitor React 19**: Watch for stability issues
2. **Tailwind v4**: Prepare for potential breaking changes
3. **Security Audits**: Run regular dependency audits

### **Future Considerations**
1. **Node.js 20+**: Consider upgrading for better performance
2. **Dependency Updates**: Regular updates for security and features
3. **Bundle Optimization**: Monitor bundle size with new versions

### **Production Readiness**
- ‚úÖ **Ready**: Next.js, Payload CMS, TypeScript, most UI libraries
- ‚ö†Ô∏è **Monitor**: React 19, Tailwind v4
- üîß **Test**: Email templates, image optimization, performance

This stack represents a modern, cutting-edge setup with some experimental technologies that require careful monitoring and testing.
